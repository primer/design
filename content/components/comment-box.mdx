---
title: Comment box
status: Experimental
---

import {Box, Label, LabelGroup, Text} from '@primer/react'

<Box sx={{fontSize: 3}} class="lead" as="p">
  A comment box allows users to write and preview comments.
</Box>

<LabelGroup>
  <Label
    as="a"
    href="https://www.figma.com/file/GCvY3Qv8czRgZgvl1dG6lp/Primer-Web?node-id=17091%3A66640"
    size="large"
    variant="secondary"
    sx={{textDecoration: 'none'}}
  >
    <img
      width="16"
      height="16"
      alt=""
      src="https://user-images.githubusercontent.com/293280/123878720-80d51480-d8f4-11eb-9b10-d02a1cb606f8.png"
      style="vertical-align: middle; margin-right: 4px;"
    />
    Figma
  </Label>
</LabelGroup>

<!-- TODO: Add to LabelGroup when available
  <Label
    as="a"
    href="https://primer.style/react/CommentBox"
    size="large"
    variant="secondary"
    sx={{textDecoration: 'none'}}
  >
    <img
      width="16"
      height="16"
      alt=""
      src="https://user-images.githubusercontent.com/293280/123878374-ce9d4d00-d8f3-11eb-8adf-1a160292ff53.png"
      style="vertical-align: middle; margin-right: 4px;"
    />
    React
  </Label>

  <Label
    as="a"
    href="https://primer.style/view-components/components/alpha/CommentBox"
    size="large"
    variant="secondary"
    sx={{textDecoration: 'none'}}
  >
    <img
      width="16"
      height="16"
      alt=""
      src="https://user-images.githubusercontent.com/18661030/171468311-184bfd70-128e-4bfc-b482-96d0de49d42a.png"
      style="vertical-align: middle; margin-right: 4px;"
    />
    Rails
  </Label>
-->

## Anatomy

<img width="960" alt="A diagram of a comment box with a label, a tab nav, a toolbar and an input with a placeholder text." src="https://user-images.githubusercontent.com/378023/197092931-b5207868-036b-4858-9fad-1195b2fd7604.png" />

## Content

### Label (required)

A label is shown above the comment box to establish the context and inform users about the purpose of the text input that follows. The default label is "Add a comment".

<DoDontContainer>
  <Do>
    <img
      src="https://user-images.githubusercontent.com/378023/193514339-81bc5e18-3aab-4e15-919f-933fb5e74ef0.png"
      role="presentation"
      width="456"
    />
    <Caption>Use a different label depending on the context.</Caption>
  </Do>
  <Dont>
    <img
      src="https://user-images.githubusercontent.com/378023/193514422-54ab3bb8-238f-4852-a813-206b81449575.png"
      role="presentation"
      width="456"
    />
    <Caption>Don't hide the label. Also don't use the label to notify users of any kind of state or event, like when an error occurred.</Caption>
  </Dont>
</DoDontContainer>

### Placeholder text (recommended)

The placeholder text is meant to give users addtional hints. Keep in mind that it will disappear as soon as users start typing. A placeholder text is not required, but can help suggest CommentBox features specific to a component implementation, such as slash commands. Having a placeholder text also helps with improving usablity and making sure users know where to start typing. The default placeholder text is "Comment".

<DoDontContainer>
  <Do>
    <img
      src="https://user-images.githubusercontent.com/378023/195568002-a794f61a-e103-4350-97e7-7cb7fccb3a1e.png"
      role="presentation"
      width="456"
    />
    <Caption>Use a different placeholder text depending on the context.</Caption>
  </Do>
  <Dont>
    <img
      src="https://user-images.githubusercontent.com/378023/193514612-a0bdb034-4047-4491-affa-e3e5fc10d455.png"
      role="presentation"
      width="456"
    />
    <Caption>Don't use a placholder text as a replacement for a label.</Caption>
  </Dont>
</DoDontContainer>

### Tab nav

A tab nav is used to toggle between write and preview mode. In **write mode** the entered text is rendered as typed (plain text).

<img
  src="https://user-images.githubusercontent.com/378023/193514697-e96fdb90-15d1-4557-8216-1772698a0888.png"
  alt=""
  width="960"
/>

When switching to **preview mode** the toolbar disappears and the text is rendered as HTML. Markdown formatting, autolinking and other features are supported as well.

<img
  src="https://user-images.githubusercontent.com/378023/191464912-fb6dcdb1-f3d7-4d0c-bfdd-e44fab9e6b57.png"
  alt=""
  width="960"
/>

### Toolbar

The toolbar provides the comment box with shortcuts to...

- format Markdown
- @-mention users or reference issues and pull requests
- insert saved replies
- attach images and files

<img
  src="https://user-images.githubusercontent.com/378023/193514788-20ceac63-2229-41bf-ad5e-7e4cafb19bf9.png"
  alt=""
  width="960"
/>

Additional toolbar items can be added based on context. They appear at the beginning of the toolbar separated with a divider.

<img
  src="https://user-images.githubusercontent.com/378023/197093096-ea3a9f65-4dde-4636-a154-06b03add8788.png"
  alt=""
  width="960"
/>

### Input

The input is used to write the comment. While typing it will automatically resize to fit the content until a certain max height is reached. The input can also be manually resized by dragging the handle in the bottom right corner.

<img
  src="https://user-images.githubusercontent.com/378023/193514864-e0528816-7560-4fdd-b816-e076f74a9981.png"
  alt=""
  width="960"
/>

The default and minimum height is `100px`. For cases where users typically add a lot of content, like issues or pull request descriptions, the input can be configured to have an increased initial height:

Option | value
--- | ---
`small` (default) | `100px`
`medium` | `300px` 
`large` | `500px`

## Messages

A [flash alert](https://primer.style/design/ui-patterns/messaging#flash-alerts) is used to inform users about an event related to the comment box. Events include but are not limited to error or warning messages, uploading state or successful actions. The flash alert is shown undertneath the comment box.

<img
  src="https://user-images.githubusercontent.com/378023/191891077-fd523ae4-7bb0-495d-be15-afca2b194ac4.png"
  alt=""
  width="960"
/>

## Responsive behavior

The comment box's toolbar uses an [action bar](https://primer.style/design/components/action-bar) under the hood that is responsive by default. Toolbar items that don't fit in the available space are moved to an [overflow menu](https://primer.style/design/components/action-bar#overflow-menu).

<img
  src="https://user-images.githubusercontent.com/378023/197094055-a68f5cb1-a0df-4e39-8803-32338d7829cc.png"
  alt=""
  width="960"
/>

When the available space becomes narrow, the tab nav takes up full width and the toolbar moves to its own row underneath.

<img
  src="https://user-images.githubusercontent.com/378023/197094061-d073e3fe-9f82-4592-a04c-3d9bb9cb7e5e.png"
  alt=""
  width="960"
/>

## Example usage

A typical use of the comment box is at the bottom of a timeline or inline when replying to existing comments. Most often there is a cancel and a submit button at the bottom right of the comment box. Pro tips can also be shown to eductate users and help feature discovery.

<img
  src="https://user-images.githubusercontent.com/378023/197094065-ae2cdb9f-94a7-4703-a5b7-a9f4d5b224cf.png"
  alt=""
  width="960"
/>

## Accessibility

### Keyboard navigation

| Key | description |
| -- | -- |
| `Tab` | Moves focus between the different parts of the comment box. The order is as follows: 1. tab nav 2. toolbar 3. input. |

<img
  src="https://user-images.githubusercontent.com/378023/193515190-f18d784f-43c2-4d9e-87c7-7c9ba4a08069.png"
  alt=""
  width="960"
/>

Note that tab nav and toolbar ([action bar](https://primer.style/design/components/action-bar#keyboard-navigation)) have their own keyboard navigation.
